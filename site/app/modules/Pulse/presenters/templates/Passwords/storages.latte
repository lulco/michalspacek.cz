<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Password storage disclosures | Pulse</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	{stylesheet screen-pulse}
	{script jquery+pulse async, defer}
</head>
<body>
<div id="container">
<h1>Password storage disclosures</h1>
{foreach $data->storages as $companyId => $sites}
{block|strip}
	<div class="company-container">
	<h2>{$data->companies[$companyId]}</h2>
	{foreach $sites as $siteId => $algos}
		<div class="site-container">
			<div class="site">
				<a n:if="$data->sites[$siteId]->url" href="{$data->sites[$siteId]->url}">{$data->sites[$siteId]->host}</a>
				<p n:if="!$data->sites[$siteId]->url">All sites</p>
			</div>
			<div class="rating">Rating <strong class="rating-{$data->sites[$siteId]->rating|lower}">{$data->sites[$siteId]->rating}</strong></div>
			<div class="clear"></div>
		</div>
		<div class="algo-container">
		{foreach $algos as $algo}
			{if $iterator->counter === 2}<div><a href="" class="open-button">History</a></div><div class="history">{/if}
				<div class="algo"><strong>{$data->algos[$algo->id]}</strong>{if $algo->from} (since {$algo->from|date:'F Y'}){/if}</div>
				<div>
				{if $algo->disclosures}
					<div><a href="" class="open-button">Details</a></div>
					<div class="hidden">
					<p n:ifset="$algo->params">Params: {foreach $algo->params as $key => $value}<code>{$key}={$value}</code>{sep}, {/sep}{/foreach}</p>
					<p n:ifset="$algo->fullAlgo">Full algorithm: <code>{$algo->fullAlgo}</code></p>
					<p>Disclosure: {foreach $algo->disclosures as $disclosure}<a href="{$disclosure->url}">{$disclosure->type}</a>{sep}, {/sep}{/foreach}</p>
					</div>
				{/if}
				</div>
			{if $iterator->count() > 1 && $iterator->last}</div>{/if}
		{/foreach}
		</div>
	{/foreach}
	</div>
{/block}
{/foreach}
</div>
</body>
</html>
